const __vite__fileDeps=["./vega-embed.module-D3MCKRy6.js","./vega-tooltip.module-vN725zP3.js","../lite.js","../lite.css","./dsv-DB8NKgIY.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{a as Ve,i as je,s as qe,f as _,B as De,c as M,m as R,k as w,t as P,n as H,a5 as Ie,b as ae,e as we,d as W,h as be,j as ye,l as L,az as Be,K as Ne,Y as Me,S as Re,a0 as He,a6 as Ue,w as ze,x as Fe,y as Pe,z as Se,D as xe,C as Ye}from"../lite.js";import{B as Ke}from"./BlockTitle-C2Zj7r4M.js";import{E as Xe}from"./Empty-Dns-ytKL.js";import{L as Ge}from"./LineChart-D-_g4n6L.js";import"./Info-BGXItqnY.js";import"./MarkdownCode-B-wCMoed.js";function ke(a){let e,l;const i=[{autoscroll:a[3].autoscroll},{i18n:a[3].i18n},a[11]];let n={};for(let s=0;s<i.length;s+=1)n=Me(n,i[s]);return e=new Re({props:n}),e.$on("clear_status",a[41]),{c(){M(e.$$.fragment)},m(s,c){R(e,s,c),l=!0},p(s,c){const d=c[0]&2056?He(i,[c[0]&8&&{autoscroll:s[3].autoscroll},c[0]&8&&{i18n:s[3].i18n},c[0]&2048&&Ue(s[11])]):{};e.$set(d)},i(s){l||(w(e.$$.fragment,s),l=!0)},o(s){P(e.$$.fragment,s),l=!1},d(s){H(e,s)}}}function Je(a){let e;return{c(){e=ze(a[4])},m(l,i){W(l,e,i)},p(l,i){i[0]&16&&Fe(e,l[4])},d(l){l&&L(e)}}}function Qe(a){let e,l;return e=new Xe({props:{unpadded_box:!0,$$slots:{default:[pe]},$$scope:{ctx:a}}}),{c(){M(e.$$.fragment)},m(i,n){R(e,i,n),l=!0},p(i,n){const s={};n[1]&33554432&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){P(e.$$.fragment,i),l=!1},d(i){H(e,i)}}}function Ze(a){let e,l,i,n=a[2]&&ve(a);return{c(){e=Pe("div"),l=ae(),n&&n.c(),i=we(),Se(e,"class","svelte-19qacdz")},m(s,c){W(s,e,c),a[42](e),W(s,l,c),n&&n.m(s,c),W(s,i,c)},p(s,c){s[2]?n?n.p(s,c):(n=ve(s),n.c(),n.m(i.parentNode,i)):n&&(n.d(1),n=null)},i:xe,o:xe,d(s){s&&(L(e),L(l),L(i)),a[42](null),n&&n.d(s)}}}function pe(a){let e,l;return e=new Ge({}),{c(){M(e.$$.fragment)},m(i,n){R(e,i,n),l=!0},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){P(e.$$.fragment,i),l=!1},d(i){H(e,i)}}}function ve(a){let e,l;return{c(){e=Pe("p"),l=ze(a[2]),Se(e,"class","caption svelte-19qacdz")},m(i,n){W(i,e,n),Ye(e,l)},p(i,n){n[0]&4&&Fe(l,i[2])},d(i){i&&L(e)}}}function $e(a){let e,l,i,n,s,c,d,r=a[11]&&ke(a);l=new Ke({props:{root:a[1],show_label:a[8],info:void 0,$$slots:{default:[Je]},$$scope:{ctx:a}}});const g=[Ze,Qe],u=[];function f(o,m){return o[0]&&o[14]?0:1}return n=f(a),s=u[n]=g[n](a),{c(){r&&r.c(),e=ae(),M(l.$$.fragment),i=ae(),s.c(),c=we()},m(o,m){r&&r.m(o,m),W(o,e,m),R(l,o,m),W(o,i,m),u[n].m(o,m),W(o,c,m),d=!0},p(o,m){o[11]?r?(r.p(o,m),m[0]&2048&&w(r,1)):(r=ke(o),r.c(),w(r,1),r.m(e.parentNode,e)):r&&(be(),P(r,1,1,()=>{r=null}),ye());const z={};m[0]&2&&(z.root=o[1]),m[0]&256&&(z.show_label=o[8]),m[0]&16|m[1]&33554432&&(z.$$scope={dirty:m,ctx:o}),l.$set(z);let S=n;n=f(o),n===S?u[n].p(o,m):(be(),P(u[S],1,1,()=>{u[S]=null}),ye(),s=u[n],s?s.p(o,m):(s=u[n]=g[n](o),s.c()),w(s,1),s.m(c.parentNode,c))},i(o){d||(w(r),w(l.$$.fragment,o),w(s),d=!0)},o(o){P(r),P(l.$$.fragment,o),P(s),d=!1},d(o){o&&(L(e),L(i),L(c)),r&&r.d(o),H(l,o),u[n].d(o)}}}function et(a){let e,l;return e=new De({props:{visible:a[7],elem_id:a[5],elem_classes:a[6],scale:a[9],min_width:a[10],allow_overflow:!1,padding:!0,height:a[12],$$slots:{default:[$e]},$$scope:{ctx:a}}}),{c(){M(e.$$.fragment)},m(i,n){R(e,i,n),l=!0},p(i,n){const s={};n[0]&128&&(s.visible=i[7]),n[0]&32&&(s.elem_id=i[5]),n[0]&64&&(s.elem_classes=i[6]),n[0]&512&&(s.scale=i[9]),n[0]&1024&&(s.min_width=i[10]),n[0]&4096&&(s.height=i[12]),n[0]&10527|n[1]&33554432&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){l||(w(e.$$.fragment,i),l=!0)},o(i){P(e.$$.fragment,i),l=!1},d(i){H(e,i)}}}function tt(a,e,l){let i,n,s,c,d,{value:r}=e,{x:g}=e,{y:u}=e,{color:f=null}=e,{root:o}=e,{title:m=null}=e,{x_title:z=null}=e,{y_title:S=null}=e,{color_title:ee=null}=e,{x_bin:F=null}=e,{y_aggregate:D=void 0}=e,{color_map:U=null}=e,{x_lim:V=null}=e,{y_lim:Y=null}=e,{x_label_angle:K=null}=e,{y_label_angle:X=null}=e,{x_axis_labels_visible:G=!0}=e,{caption:re=null}=e,{sort:te=null}=e,{tooltip:A="axis"}=e;function Ae(t){if(t==="x")return"ascending";if(t==="-x")return"descending";if(t==="y")return{field:u,order:"ascending"};if(t==="-y")return{field:u,order:"descending"};if(t===null)return;if(Array.isArray(t))return t}let{_selectable:J=!1}=e,Q,{gradio:j}=e,C,le=!1;const Ce={s:1,m:60,h:60*60,d:24*60*60};let I,q;function Ee(t){if(A=="all"||Array.isArray(A))return t.data.map(k=>{const h={};return t.columns.forEach(($,N)=>{h[$]=k[N]}),h});let y=t.columns.indexOf(g),O=t.columns.indexOf(u),x=f?t.columns.indexOf(f):null;return t.data.map(k=>{const h={[g]:k[y],[u]:k[O]};return f&&x!==null&&(h[f]=k[x]),h})}const Oe=typeof window<"u";let b,E,Z=!1,oe,p,ie;async function _e(){if(E&&E.finalize(),!r||!b)return;oe=b.offsetWidth;const t=We();t&&(p=new ResizeObserver(y=>{!y[0].target||!(y[0].target instanceof HTMLElement)||(oe===0&&b.offsetWidth!==0&&r.datatypes[g]==="nominal"?_e():E.signal("width",y[0].target.offsetWidth).run())}),ie||(ie=(await Be(()=>import("./vega-embed.module-D3MCKRy6.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)).default),ie(b,t,{actions:!1}).then(function(y){E=y.view,p.observe(b);var O;E.addEventListener("dblclick",()=>{j.dispatch("double_click")}),b.addEventListener("mousedown",function(x){x.detail>1&&x.preventDefault()},!1),J&&E.addSignalListener("brush",function(x,k){if(Object.keys(k).length===0)return;clearTimeout(O);let h=k[Object.keys(k)[0]];s&&(h=[h[0]/1e3,h[1]/1e3]),le?l(38,B=()=>{j.dispatch("select",{value:h,index:h,selected:!0})}):O=setTimeout(function(){j.dispatch("select",{value:h,index:h,selected:!0})},250)})}))}let B=null;Ie(()=>(l(37,Z=!0),()=>{l(37,Z=!1),E&&E.finalize(),p&&p.disconnect()}));function We(){if(!r||!d)return null;let t=d.getPropertyValue("--color-accent"),y=d.getPropertyValue("--body-text-color"),O=d.getPropertyValue("--border-color-primary"),x=d.fontFamily,k=d.getPropertyValue("--block-title-text-weight");const h=T=>T.endsWith("px")?parseFloat(T.slice(0,-2)):12;let $=h(d.getPropertyValue("--text-md")),N=h(d.getPropertyValue("--text-sm"));return{$schema:"https://vega.github.io/schema/vega-lite/v5.17.0.json",background:"transparent",config:{autosize:{type:"fit",contains:"padding"},axis:{labelFont:x,labelColor:y,titleFont:x,titleColor:y,titlePadding:8,tickColor:O,labelFontSize:N,gridColor:O,titleFontWeight:"normal",titleFontSize:N,labelFontWeight:"normal",domain:!1,labelAngle:0},legend:{labelColor:y,labelFont:x,titleColor:y,titleFont:x,titleFontWeight:"normal",titleFontSize:N,labelFontWeight:"normal",offset:2},title:{color:y,font:x,fontSize:$,fontWeight:k,anchor:"middle"},view:{stroke:O},mark:{stroke:r.mark!=="bar"?t:void 0,fill:r.mark==="bar"?t:void 0,cursor:"crosshair"}},data:{name:"data"},datasets:{data:Q},layer:["plot",...r.mark==="line"?["hover"]:[]].map(T=>({encoding:{size:r.mark==="line"?T=="plot"?{condition:{empty:!1,param:"hoverPlot",value:3},value:2}:{condition:{empty:!1,param:"hover",value:100},value:0}:void 0,opacity:T==="plot"?void 0:{condition:{empty:!1,param:"hover",value:1},value:0},x:{axis:{...K!==null&&{labelAngle:K},labels:G,ticks:G},field:g,title:z||g,type:r.datatypes[g],scale:c?{domain:c}:void 0,bin:C?{step:C}:void 0,sort:n},y:{axis:X?{labelAngle:X}:{},field:u,title:S||u,type:r.datatypes[u],scale:Y?{domain:Y}:void 0,aggregate:q?I:void 0},color:f?{field:f,legend:{orient:"bottom",title:ee},scale:r.datatypes[f]==="nominal"?{domain:i,range:U?i.map(v=>U[v]):void 0}:{range:[100,200,300,400,500,600,700,800,900].map(v=>d.getPropertyValue("--primary-"+v)),interpolate:"hsl"},type:r.datatypes[f]}:void 0,tooltip:A=="none"?void 0:[{field:u,type:r.datatypes[u],aggregate:q?I:void 0,title:S||u},{field:g,type:r.datatypes[g],title:z||g,format:s?"%Y-%m-%d %H:%M:%S":void 0,bin:C?{step:C}:void 0},...f?[{field:f,type:r.datatypes[f]}]:[],...A==="axis"?[]:r?.columns.filter(v=>v!==g&&v!==u&&v!==f&&(A==="all"||A.includes(v))).map(v=>({field:v,type:r.datatypes[v]}))]},strokeDash:{},mark:{clip:!0,type:T==="hover"?"point":r.mark},name:T})),params:[...r.mark==="line"?[{name:"hoverPlot",select:{clear:"mouseout",fields:f?[f]:[],nearest:!0,on:"mouseover",type:"point"},views:["hover"]},{name:"hover",select:{clear:"mouseout",nearest:!0,on:"mouseover",type:"point"},views:["hover"]}]:[],...J?[{name:"brush",select:{encodings:["x"],mark:{fill:"gray",fillOpacity:.3,stroke:"none"},type:"interval"},views:["plot"]}]:[]],width:b.offsetWidth,height:se?"container":void 0,title:m||void 0}}let{label:ce="Textbox"}=e,{elem_id:ue=""}=e,{elem_classes:fe=[]}=e,{visible:me=!0}=e,{show_label:de}=e,{scale:ge=null}=e,{min_width:he=void 0}=e,{loading_status:ne=void 0}=e,{height:se=void 0}=e;const Le=()=>j.dispatch("clear_status",ne);function Te(t){Ne[t?"unshift":"push"](()=>{b=t,l(13,b)})}return a.$$set=t=>{"value"in t&&l(0,r=t.value),"x"in t&&l(15,g=t.x),"y"in t&&l(16,u=t.y),"color"in t&&l(17,f=t.color),"root"in t&&l(1,o=t.root),"title"in t&&l(18,m=t.title),"x_title"in t&&l(19,z=t.x_title),"y_title"in t&&l(20,S=t.y_title),"color_title"in t&&l(21,ee=t.color_title),"x_bin"in t&&l(22,F=t.x_bin),"y_aggregate"in t&&l(23,D=t.y_aggregate),"color_map"in t&&l(24,U=t.color_map),"x_lim"in t&&l(25,V=t.x_lim),"y_lim"in t&&l(26,Y=t.y_lim),"x_label_angle"in t&&l(27,K=t.x_label_angle),"y_label_angle"in t&&l(28,X=t.y_label_angle),"x_axis_labels_visible"in t&&l(29,G=t.x_axis_labels_visible),"caption"in t&&l(2,re=t.caption),"sort"in t&&l(30,te=t.sort),"tooltip"in t&&l(31,A=t.tooltip),"_selectable"in t&&l(32,J=t._selectable),"gradio"in t&&l(3,j=t.gradio),"label"in t&&l(4,ce=t.label),"elem_id"in t&&l(5,ue=t.elem_id),"elem_classes"in t&&l(6,fe=t.elem_classes),"visible"in t&&l(7,me=t.visible),"show_label"in t&&l(8,de=t.show_label),"scale"in t&&l(9,ge=t.scale),"min_width"in t&&l(10,he=t.min_width),"loading_status"in t&&l(11,ne=t.loading_status),"height"in t&&l(12,se=t.height)},a.$$.update=()=>{a.$$.dirty[0]&1&&l(33,Q=r?Ee(r):[]),a.$$.dirty[0]&131073|a.$$.dirty[1]&4&&(i=f&&r&&r.datatypes[f]==="nominal"?Array.from(new Set(Q.map(t=>t[f]))):[]),a.$$.dirty[0]&1073741824&&(n=Ae(te)),a.$$.dirty[0]&32769&&l(39,s=r&&r.datatypes[g]==="temporal"),a.$$.dirty[0]&33554432|a.$$.dirty[1]&256&&(c=V&&s?[V[0]*1e3,V[1]*1e3]:V),a.$$.dirty[0]&4194304&&l(34,C=F?typeof F=="string"?1e3*parseInt(F.substring(0,F.length-1))*Ce[F[F.length-1]]:F:void 0),a.$$.dirty[0]&8421377|a.$$.dirty[1]&40&&r&&(r.mark==="point"?(l(36,q=C!==void 0),l(35,I=D||q?"sum":void 0)):(l(36,q=C!==void 0||r.datatypes[g]==="nominal"),l(35,I=D||"sum"))),a.$$.dirty[0]&8192&&l(40,d=b?window.getComputedStyle(b):null),a.$$.dirty[0]&8192|a.$$.dirty[1]&192&&Z&&b&&(b.addEventListener("mousedown",()=>{le=!0}),b.addEventListener("mouseup",()=>{le=!1,B&&(B(),l(38,B=null))})),a.$$.dirty[0]&1199546373|a.$$.dirty[1]&592&&d&&requestAnimationFrame(_e)},[r,o,re,j,ce,ue,fe,me,de,ge,he,ne,se,b,Oe,g,u,f,m,z,S,ee,F,D,U,V,Y,K,X,G,te,A,J,Q,C,I,q,Z,B,s,d,Le,Te]}class ot extends Ve{constructor(e){super(),je(this,e,tt,et,qe,{value:0,x:15,y:16,color:17,root:1,title:18,x_title:19,y_title:20,color_title:21,x_bin:22,y_aggregate:23,color_map:24,x_lim:25,y_lim:26,x_label_angle:27,y_label_angle:28,x_axis_labels_visible:29,caption:2,sort:30,tooltip:31,_selectable:32,gradio:3,label:4,elem_id:5,elem_classes:6,visible:7,show_label:8,scale:9,min_width:10,loading_status:11,height:12},null,[-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),_()}get x(){return this.$$.ctx[15]}set x(e){this.$$set({x:e}),_()}get y(){return this.$$.ctx[16]}set y(e){this.$$set({y:e}),_()}get color(){return this.$$.ctx[17]}set color(e){this.$$set({color:e}),_()}get root(){return this.$$.ctx[1]}set root(e){this.$$set({root:e}),_()}get title(){return this.$$.ctx[18]}set title(e){this.$$set({title:e}),_()}get x_title(){return this.$$.ctx[19]}set x_title(e){this.$$set({x_title:e}),_()}get y_title(){return this.$$.ctx[20]}set y_title(e){this.$$set({y_title:e}),_()}get color_title(){return this.$$.ctx[21]}set color_title(e){this.$$set({color_title:e}),_()}get x_bin(){return this.$$.ctx[22]}set x_bin(e){this.$$set({x_bin:e}),_()}get y_aggregate(){return this.$$.ctx[23]}set y_aggregate(e){this.$$set({y_aggregate:e}),_()}get color_map(){return this.$$.ctx[24]}set color_map(e){this.$$set({color_map:e}),_()}get x_lim(){return this.$$.ctx[25]}set x_lim(e){this.$$set({x_lim:e}),_()}get y_lim(){return this.$$.ctx[26]}set y_lim(e){this.$$set({y_lim:e}),_()}get x_label_angle(){return this.$$.ctx[27]}set x_label_angle(e){this.$$set({x_label_angle:e}),_()}get y_label_angle(){return this.$$.ctx[28]}set y_label_angle(e){this.$$set({y_label_angle:e}),_()}get x_axis_labels_visible(){return this.$$.ctx[29]}set x_axis_labels_visible(e){this.$$set({x_axis_labels_visible:e}),_()}get caption(){return this.$$.ctx[2]}set caption(e){this.$$set({caption:e}),_()}get sort(){return this.$$.ctx[30]}set sort(e){this.$$set({sort:e}),_()}get tooltip(){return this.$$.ctx[31]}set tooltip(e){this.$$set({tooltip:e}),_()}get _selectable(){return this.$$.ctx[32]}set _selectable(e){this.$$set({_selectable:e}),_()}get gradio(){return this.$$.ctx[3]}set gradio(e){this.$$set({gradio:e}),_()}get label(){return this.$$.ctx[4]}set label(e){this.$$set({label:e}),_()}get elem_id(){return this.$$.ctx[5]}set elem_id(e){this.$$set({elem_id:e}),_()}get elem_classes(){return this.$$.ctx[6]}set elem_classes(e){this.$$set({elem_classes:e}),_()}get visible(){return this.$$.ctx[7]}set visible(e){this.$$set({visible:e}),_()}get show_label(){return this.$$.ctx[8]}set show_label(e){this.$$set({show_label:e}),_()}get scale(){return this.$$.ctx[9]}set scale(e){this.$$set({scale:e}),_()}get min_width(){return this.$$.ctx[10]}set min_width(e){this.$$set({min_width:e}),_()}get loading_status(){return this.$$.ctx[11]}set loading_status(e){this.$$set({loading_status:e}),_()}get height(){return this.$$.ctx[12]}set height(e){this.$$set({height:e}),_()}}export{ot as default};
//# sourceMappingURL=Index-yTm4T8sX.js.map
